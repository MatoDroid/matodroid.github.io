<!DOCTYPE html>
<html>
<head>
    <title>Auto-dopĺňanie z CSV</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
    <label for="obceInput">Zadajte obec:</label>
    <input type="text" id="obceInput">
    <button id="spracovatButton">Spracovať</button>

    <script>
        $(document).ready(function () {
            // Načítajte CSV súbor
            $.ajax({
                type: "GET",
                url: "obce.csv", // Názov a umiestnenie vášho CSV súboru
                dataType: "text",
                success: function (data) {
                    var lines = data.split("\n");
                    var autocompleteData = [];

                    // Prejdite cez riadky CSV súboru a získajte údaje zo stĺpca "name"
                    for (var i = 0; i < lines.length; i++) {
                        var values = lines[i].split(",");
                        if (values.length >= 1) {
                            autocompleteData.push(values[0]);
                        }
                    }

                    // Inicializujte auto-dopĺňanie
                    $("#obceInput").autocomplete({
                        source: autocompleteData // Použijte načítané údaje z CSV súboru ako zdroj pre auto-dopĺňanie
                    });
                }
            });

            // Obsluha kliknutia na tlačidlo "Spracovať"
            $("#spracovatButton").click(function () {
                // Spustite JavaScript súbor "spracuj.js" po kliknutí na tlačidlo
                $.getScript("spracuj.js", function () {
                    // Kód vo "spracuj.js" bude spustený po načítaní súboru
                });
            });
        });
    </script>
</body>
</html>
